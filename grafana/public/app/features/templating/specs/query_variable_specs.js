/*! grafana - v4.0.2-1481203731 - 2016-12-08
 * Copyright (c) 2016 Torkel Ã–degaard; Licensed Apache-2.0 */

System.register(["test/lib/common","../query_variable"],function(a){var b,c;return{setters:[function(a){b=a},function(a){c=a}],execute:function(){b.describe("QueryVariable",function(){b.describe("when creating from model",function(){b.it("should set defaults",function(){var a=new c.QueryVariable({},null,null,null,null);b.expect(a.datasource).to.be(null),b.expect(a.refresh).to.be(0),b.expect(a.sort).to.be(0),b.expect(a.name).to.be(""),b.expect(a.hide).to.be(0),b.expect(a.options.length).to.be(0),b.expect(a.multi).to.be(!1),b.expect(a.includeAll).to.be(!1)}),b.it("get model should copy changes back to model",function(){var a=new c.QueryVariable({},null,null,null,null);a.options=[{text:"test"}],a.datasource="google",a.regex="asd",a.sort=50;var d=a.getSaveModel();b.expect(d.options.length).to.be(1),b.expect(d.options[0].text).to.be("test"),b.expect(d.datasource).to.be("google"),b.expect(d.regex).to.be("asd"),b.expect(d.sort).to.be(50)}),b.it("if refresh != 0 then remove options in presisted mode",function(){var a=new c.QueryVariable({},null,null,null,null);a.options=[{text:"test"}],a.refresh=1;var d=a.getSaveModel();b.expect(d.options.length).to.be(0)})})})}}});